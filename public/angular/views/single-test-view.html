<div style="margin-top: 30px;">
<center><a ng-href="/user/dashboard" style="font-size: 20px; color: #2FBBFF;"> &#8617; Back to dashboard</a></center>
<hr> 
<div class="card" style="padding: 3% 3% 3% 3%;">
        <div class="card container-fluid" style="padding:10px 30px 10px 30px;">
            <div class="left">
                <p style="font-size: 20px;">Topic : {{singleTest.test.topic}}</p>
                <p style="margin-bottom: 0;">Category : {{singleTest.test.category}}</p>
                <p style="margin-bottom: 0;">Questions: {{singleTest.test.number_of_ques}}</p>
                <p style="margin-bottom: 0;">Duration : {{singleTest.test.duration}}</p>
            </div>    
            <div class="right">
                <btn class="btn btn-primary">edit test</btn>
            </div>
                                
        </div>
        <div class="card">
          <div ng-repeat="question in singleTest.test.questions" style="padding:10px 40px 10px 30px;"> 
            <p>{{$index+1}}. {{question.question_desc}}</p>
            <div class="row">
              <div class="col-sm-5">
                <p>(a) {{question.optA}}</p>
                <p>(b) {{question.optB}}</p>
              </div>
              <div class="col-sm-5">
                <p>(c) {{question.optC}}</p>
                <p>(d) {{question.optD}}</p>
              </div>
              <div class="col-sm-2">
              <button class="btn btn-primary" ng-click="singleTest.editQuestion=true; singleTest.question_index=$index;">edit question</button>
              </div>              

            </div>
            <p>Answer : {{question.answer}}</p>
          <div ng-if="singleTest.editQuestion==true && $index==singleTest.question_index" class="container">
            <form ng-submit="singleTest.editQuestion();" style="padding:20px 10px 20px 10px; ">
                <div class="form-group">
                  <label for="question_desc">Question:</label>
                  <textarea cols="4" class="form-control" id="question_desc" ng-model="singleTest.updatedData.question_desc" value={{question.question_desc}} required ></textarea>
                </div>
                <label class="col-sm-6">
                  <input type="radio" ng-model="singleTest.questionData.answer" value={{singleTest.questionData.optA}} name="answer" required >
                  <input type="text" id="optA" ng-model="singleTest.updatedData.optA" value={{question.optA}} required>
                </label>
                <label class="col-sm-6">
                  <input type="radio" ng-model="singleTest.questionData.answer" value={{singleTest.questionData.optB}} name="answer">
                  <input type="text" id="optB" ng-model="singleTest.updatedData.optB" required>
                </label>
                <label class="col-sm-6">
                  <input type="radio" ng-model="singleTest.questionData.answer" value={{singleTest.questionData.optC}} name="answer">
                  <input type="text" id="optC" ng-model="singleTest.questionData.optC" value={{question.optC}} required>
                </label>
                <label class="col-sm-6">
                  <input type="radio" ng-model="singleTest.questionData.answer" value={{singleTest.questionData.optD}} name="answer">
                  <input type="text" id="optD" ng-model="singleTest.questionData.optD" value={{question.optD}} required>
                </label>                                
                <div class="text-center">
                <button type="submit" class="btn btn-default">Submit</button>
                </div>
            </form> 
          </div>
            <hr>
          </div>
          <button class="btn btn-primary" ng-click="singleTest.addQuestion=true"><span class="glyphicon glyphicon-plus"></span>Add new question</button>
          <div ng-if="singleTest.addQuestion==true" class="container">
            <form ng-submit="singleTest.postQuestion();" style="padding:20px 10px 20px 10px; ">
                <div class="form-group">
                  <label for="question_desc">Question:</label>
                  <textarea cols="4" class="form-control" id="question_desc" ng-model="singleTest.questionData.question_desc" required ></textarea>
                </div>
                <label class="col-sm-6">
                  <input type="radio" ng-model="singleTest.questionData.answer" value={{singleTest.questionData.optA}} name="answer" required >
                  <input type="text" id="optA" ng-model="singleTest.questionData.optA" required>
                </label>
                <label class="col-sm-6">
                  <input type="radio" ng-model="singleTest.questionData.answer" value={{singleTest.questionData.optB}} name="answer">
                  <input type="text" id="optB" ng-model="singleTest.questionData.optB" >
                </label>
                <label class="col-sm-6">
                  <input type="radio" ng-model="singleTest.questionData.answer" value={{singleTest.questionData.optC}} name="answer">
                  <input type="text" id="optC" ng-model="singleTest.questionData.optC">
                </label>
                <label class="col-sm-6">
                  <input type="radio" ng-model="singleTest.questionData.answer" value={{singleTest.questionData.optD}} name="answer">
                  <input type="text" id="optD" ng-model="singleTest.questionData.optD">
                </label>                                
                <div class="text-center">
                <button type="submit" class="btn btn-default">Submit</button>
                </div>
            </form> 
          </div>
        </div>   
  </div>
</div>