<div ng-if="!takeTest.started">
<p>{{takeTest.test.topic}}</p>
<hr>
<p>1. This test is of {{takeTest.test.duration}} minutes. The test window will disappear if you do not submit the test within the given time. </p> 
{{login.username}}
{{login.email}}
{{login.user_id}}
<button class="btn btn-primary" ng-click="takeTest.startTest();">yes! go to test page!</button>
</div>
<div ng-if="takeTest.started">
<div class="card container" style="padding: 5% 5% 5% 5%">

      <p id="time_left" >{{main.count}}</p>

<p class="text-center">Question {{takeTest.currentPage+1}}</p>
<hr>
    <div ng-repeat="question in takeTest.test.questions | startFrom:takeTest.currentPage*takeTest.pageSize | limitTo:takeTest.pageSize">
        <p>{{question.question_desc}}</p>
        <label class="col-sm-6">
          <input type="radio" ng-model="takeTest.answerArray[takeTest.currentPage].givenAnswer" value={{question.optA}} name="answer" ng-change='takeTest.calTime(takeTest.currentPage,question);takeTest.setDefault(takeTest.currentPage,1,2,3);' required >
          {{question.optA}}
        </label>
        <label class="col-sm-6">
          <input type="radio" ng-model="takeTest.answerArray[takeTest.currentPage].givenAnswer" ng-change='takeTest.calTime(takeTest.currentPage,question,count);takeTest.setDefault(takeTest.currentPage,0,2,3);' value={{question.optB}} name="answer">
          {{question.optB}}
        </label>
        <label class="col-sm-6">
          <input type="radio" ng-model="takeTest.answerArray[takeTest.currentPage].givenAnswer" ng-change='takeTest.calTime(takeTest.currentPage,question);takeTest.setDefault(takeTest.currentPage,0,1,3);' value={{question.optC}} name="answer">
          {{question.optC}}
        </label>
        <label class="col-sm-6">
          <input type="radio" ng-model="takeTest.answerArray[takeTest.currentPage].givenAnswer" ng-change='takeTest.calTime(takeTest.currentPage,question);takeTest.setDefault(takeTest.currentPage,0,1,2);' value={{question.optD}} name="answer">
          {{question.optD}}
        </label>                          
    </div>
    <div ng-if="takeTest.currentPage!=takeTest.test.number_of_ques-1">
    <button ng-disabled="takeTest.currentPage == 0" ng-click="takeTest.currentPage=takeTest.currentPage-1">
        Previous
    </button>
    {{takeTest.currentPage+1}}/{{takeTest.test.number_of_ques}}
    <button ng-disabled="takeTest.currentPage >= takeTest.test.questions.length/takeTest.pageSize - 1" ng-click="takeTest.currentPage=takeTest.currentPage+1;takeTest.setFirstViewTime(takeTest.currentPage);">
        Next
    </button>
    </div>
    <div ng-if="takeTest.currentPage==takeTest.test.number_of_ques-1">
        <button class="btn btn-info" ng-click="takeTest.submitTest();">Submit test</button>
    </div>
  </div>
